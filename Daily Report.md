# Daily Report

## 9.29

- 9：00~13：30：第一个界面的大体框架基本以及完成了，还差两个按钮的动画以及字体。
- 13：30~16：30：以前没做过移动端，所以先去学了一下移动端适配和JavaScript中的一些写法，把back按钮给写完了。
- 15：30~18：15：把第一个界面的按钮动画给写完了。
- 18：15~20：00：对于选择难度界面上面的那个圆脸动画完全没有头绪，逛了逛GitHub和B站，看看能不能找到实现的方法或者技术。:innocent:
- 20：00~22：00：大概知道这个圆脸的动画和后面的圆盘的碰撞应该是使用canvas来实现的，在图书馆找了本将canvas动画开发的书，看了前面基本的图形绘制。:book:（发现canvas可以解决后面小球碰撞的动画问题）
- 22：00~1：00：回寝室后和室友一起出去吃烧烤了:meat_on_bone:,回来的晚睡的也晚,没看到月亮:triumph:。

**目前的问题**：
+ ~~不清楚这个圆脸的动画使用那种技术实现的：css手撸/canvas（目前猜测是这个，但是得现学）。~~
+ ~~第一个界面的背景图片是否也需要复刻。~~
+ ~~文件的目录格式是否符合格式。~~

## 9.30

- 10：00~11：30：第二个界面的布局基本写完，还差滚动条的部分没完成。
- 11：30~14：00：和朋友一起去世界城广场吃饭，回图书馆发了会儿呆:musical_note:。
- 14：00~14：50：先用`input`标签写了一个最简单的滚动条，怎么设置滚动条的样式还没查到（以后解决）。难度的文字是一种3d的滚动，尝试了`rotate3d`但是文字只能绕着中心来旋转，还是达不到原版的效果。
- 14：50~15：50：把第二个界面基本上完成了，把两个界面给链接了起来。
- 15：50~17：00：学了一下JS的原生拖拽的写法。
- 17：00~22：00：出去和同学一起吃了个饭，然后去看了个电影:movie_camera:，回来图书馆已经关门了。

**目前的问题**：

- 第二个界面的滚动条样式设置还不会。
- 难度的文字的滚3d滚动显示还不会，打算用css的`rotate3d`来实现，但似乎不能自定义旋转轴）
- 字体还没引入还不会，准备等后面的游戏部分写完之后在一起引入。
- 关于游戏具体的实现，目前的思路是使用canvas来实现。
-  ~~不会拖拽~~，不会碰撞，~~不会canvas~~:dizzy_face:

## 10.1

- 9：40~11：00：学习canvas画图，把游戏的桌面给画了出来。
- 11：00~11：50：学习了一下canvas的拖拽实现方法，没看完,先去吃饭:yum:
- 11：50~13：30：朋友喊去吃麦麦了:hamburger:
- 13：00~17：00：尝试用canvas写了一下小球的拖拽功能，发只有触摸点在小球右下部分时才能拖动，找了一下午的bug,没看出来时哪里出了问题。
- 17：15~17：40：我发现canvas画布内的元素改变了视高与视宽之后元素的比例也会随之变化（圆变成椭圆），查了一下发现在画布中的单位似乎与画布外的单位不一样:dizzy_face:。
- 17：00~21：00：发现了下午时那个bug的原因，是因为算距离的时候画布的边框回影响计算，所以干脆把边框给删了。
- 21：00~22：00：我最终还是放弃了canvas，因为他的布局台难调了，单位也不统一。最后决定用原生的JavaScript来写，而且原生的JavaScript实现拖拽的思路跟用canvas挺像的，等原生的写完之后如果有时间的话，再写一个canvas版的。
- 23：00~23：55：在写JavaScript原生拖拽的过程中出现了元素向y轴正方向瞬移一小段距离的问题。

## 10.2

- 9：00~11：45：把昨天晚上没写完的原生JS拖动功能给写完了，接下来写边框检测。左右边框一切顺利，但是在写上边框时发现小球不会抵住边框，会在与上边框还剩一段距离的时候就无法向上移动。

- 11：50~12：40：吃饭去了。

- 12：40~15：00：写边框检测，写的时候发现了无法自适应。

- 15：00~16：40：尝试了改了好几遍都无法解决这个边框检测的问题。

- 17：40~18：55：去Google了好久，确定自己的概念没记错，然后又去问了一下小ray老师。

- 18：55~22：00：静下心来看了一下canvas的书，学了一下canvas中的碰撞和边界检测。

  **目前的问题**

- 用原生的JS写的代码在拖动开始时小球会有一段小的位移。
- 边界检测的时候只有左边界的检测是准确的，其余三条边都会有偏移。

## 10.3

- 9：20~10：40：小ray老师说我的计算方式看起来没有问题，`redball`的初始位置不对，让我把`left`和`top`设为0，有检查了一下布局的问题，发现执行以下操作后拖拽开始不再出现位移：

  - 将容器的`desk`的边框去掉。
  - `body`的`flex`布局去掉。
  - `redball`的初始定位去掉。

  但是这样一来会导致`desk`无法居中，用户体验很不好,决定还是使用`canvas`来写，原生的解决方法等把项目写完后再来探究以下。

- 10：40~12：00：用`canvas`写游戏的界面，写完了棋盘样式，拖拽功能，边界检测，碰撞检测，写地很快（昨晚看书还是有点收获的:smiley:）

- 12：00~13：15：用膳。:rice:

- 13：30~16：15：把黑球的触边反弹给写了。

- 16：15~16：40：把鼠标移动太快检测不到的问题给解决了。

- 16：40~17：20：把蓝球的代码也给写了，但是当小球移动太快时，还是会出现检测灵敏的问题，目前猜测是设置小球碰撞时的方向时出了问题，后续优化一下。

- 17：45~19：50：和朋友一起去吃饭，吃完后去湖溪门外面逛了一圈，回来顺道买了杯奶茶:tea:。

- 20：00~20：40：把比分板和退出按钮给写了，（前面两页的按钮都是用`<a>`标签写的，当时还不会用JS左页面跳转，今天查了一下，后面抽时间给改过来）。

- 20：40~21：10：把比分的判定给写完了。

**目前的问题**

- ~~只有再拖动的时候才有动画，不拖动就没有动画。~~ 解决辣哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈（不敢想象自己解决自己问题的我有多开朗）。:laughing:
- ~~如何模拟出仿真的碰撞效果，即方向于原版一致。~~ 同上
- ~~红球和篮球不能同时拖动。~~
- 小球移动太快容易检测不到。
